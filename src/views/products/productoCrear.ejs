<!DOCTYPE html>
<html lang="en">
  <!-- head INICIO -->
  <%- include("../partials/head.ejs", {title: "Crear"}) %>
  <!-- head FIN -->

  <body>
    <!-- header INICIO -->
    <%- include("../partials/header.ejs") %>
    <!-- header FIN -->

    <main>

      <!-- Banner de categorias y miga de pan -->
      <div class="py-6 bg-img-cover bg-dark bg-overlay-gradient-dark position-relative overflow-hidden mb-4 bg-pos-center-center"
      style="background-image: url(/img/header-banner-laboratorio.png);">
          <div class="container position-relative z-index-20" data-aos="fade-right" data-aos-delay="300">
              <nav aria-label="breadcrumb">
                  <ol class="breadcrumb">
                  <li class="breadcrumb-item breadcrumb-light"><a href="/">Home</a></li>
                  <li class="breadcrumb-item active breadcrumb-light" aria-current="page"><a href="/admin">Administrador</a></li>
                  <li class="breadcrumb-item active breadcrumb-light" aria-current="page">Crear</li>
                  </ol>
              </nav>                
              <h1 class="fw-bold display-6 mb-4 text-white">Crear</h1>
              <div class="col-12 col-md-6">
                  <!-- <img style="width:150px ;" src=" < %= usuarioFull.image%> "> <br> -->
                  <p class="lead text-white mb-0"> Hola <%= locals.usuarioFull.first_name %>  , aquí puedes crear un producto!</p>
              </div>
          </div>
      </div>
      

      <section class="mt-5 container ">

        <h1 class="mb-4 display-5 fw-bold text-center">Creación de producto</h1>
          <p class="text-center mx-auto">Estas a un paso de crear un producto!</p>
          <p class="text-center mx-auto">Ingresa todos los campos</p>
            <div class="border-bottom pb-3"></div>

            <!-- Formulario de login-->

            <div class="row d-flex mt-auto p-1">
              <div class="p-5 sticky-md-top top-10">
                  
                            

                    <div class="card flex-grow-1 mb-md-0 w-60 mx-auto">
                      <div class="card__content">
                        
                        
                           
                          <form class="form-registro" action="/producto" method="POST" enctype="multipart/form-data" id="form-crearProducto">

                          <label for="nombreProducto" class="form-label">Nombre del producto</label>
                          <input type="text" class="form-control <%= locals.errors && errors.nombreProducto ? 'is-invalid' : null %>" name="nombreProducto" id="nombreProducto" value='<%= locals.oldData ? oldData.nombreProducto : null  %>'>
                          <% if (locals.errors && errors.nombreProducto) { %>                            
                            <p style="color: tomato; font-size: 12px;"> <%= errors.nombreProducto.msg %> </p> 
                          <% } %>

                          <p id="errorNombreProducto" class="msg-error ocultar"></p>

                          <label for="descripcionProducto" class="form-label">Descripcion del producto</label>
                          <input type="text" class="form-control <%= locals.errors && errors.descripcionProducto ? 'is-invalid' : null %>" name="descripcionProducto" id="descripcionProducto" value='<%= locals.oldData ? oldData.descripcionProducto : null  %>'>
                          <% if (locals.errors && errors.descipcionProducto) { %>                            
                            <p style="color: tomato; font-size: 12px;"> <%= errors.descripcionProducto.msg %> </p> 
                          <% } %>

                          <p id="errorDescripcion" class="msg-error ocultar"></p>

                          <br>

                          <div class="card flex-grow-1 mb-md-0 w-60" id="categorias">
                            <select name="categoriaProducto" id="" required>
                                <option value="" disabled selected>-- Categoria del producto --</option>
                                <% categories.forEach(category=> { %>
                                <option value="<%= category.id %>">
                                <%= category.nombre %>
                                </option>
                                <% }); %>
                            </select>
                            <% if (locals.errors && errors.categoriaProducto) { %>                            
                              <p style="color: tomato; font-size: 12px;"> <%= errors.categoriaProducto.msg %></p> 
                            <% } %>                            
                          </div>
                          <p id="errorCategorias" class="msg-error ocultar"></p>
                          <br>

                          <label for="pesoProducto" class="form-label">Peso del producto</label>
                          <input type="number" class="form-control <%= locals.errors && errors.pesoProducto ? 'is-invalid' : null %>" name="pesoProducto" id="pesoProducto" value='<%= locals.oldData ? oldData.pesoProducto : null  %>'>
                          <% if (locals.errors && errors.pesoProducto) { %>                            
                            <p style="color: tomato; font-size: 12px;"> <%= errors.pesoProducto.msg %></p> 
                          <% } %>

                          <p id="errorPesoProducto" class="msg-error ocultar"></p>

                          <label for="precioProducto" class="form-label">Precio del producto</label>
                          <input type="number" class="form-control <%= locals.errors && errors.precioProducto ? 'is-invalid' : null %>" name="precioProducto" id="precioProducto" value='<%= locals.oldData ? oldData.precioProducto : null  %>'>
                          <% if (locals.errors && errors.precioProducto) { %>                            
                            <p style="color: tomato; font-size: 12px;"> <%= errors.precioProducto.msg %></p> 
                          <% } %>

                          <p id="errorPrecioProducto" class="msg-error ocultar"></p>

                          <label for="imagenProducto" class="form-label">Imagen</label>
                          <input type="file" class="form-control" name="imagenProducto" id="imagenProducto">
                          <% if (locals.errors && errors.imagenProducto) { %>                            
                            <p style="color: tomato; font-size: 12px;"> <%= errors.imagenProducto.msg %></p> 
                          <% } %>

                          <p id="errorImagenProducto" class="msg-error ocultar"></p>

                          <button class="btn btn-dark mt-4 mb-2" type="submit">Crear ahora</button>
                        </form>

                      </div>
                    </div>

              </div>                
            </div>
          <!-- /form -->

      </section>




    </main>

    <!--vinculación con archivo .js-->
     
    <script src="/js/ProductValidation.js"></script>

    <!-- <!footer start-->
    <%- include("../partials/footer.ejs") %>
    <!-- main-footer end -->
  </body>
</html>
